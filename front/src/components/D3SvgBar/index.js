import React, { Component } from 'react'
import * as d3 from "d3";
import styles from './index.less';
import { Bar } from 'components/ChartsD3';

export default class D3SvgLine extends Component {
    componentDidMount(){
        var  option2 = {
            xAxis: {
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            },
            yAxis: {
                type: 'value'
            },
            series: [{
                data: [120, 200, 150, 80, 70, 110, 130],
                type: 'bar'
            }]
        };

        
    }
    render() {
        var y="33813043.67478123,52336670.17390117,66884331.795866236,64901679.82010235,131466314.52108184,104059454.09997907,85270069.36099787,69747189.92147435,41003001.11228585,32262304.982342735,24470465.688976552,25018180.54427985,25565895.399583124,16690749.433859507,21984691.492656253,62511467.68007275,102692043.71013218,74278003.07165821,115047432.7741575,124642950.58622533,110786176.0198494,133046710.85823895,161431743.7026691,170070206.5453181,240688659.78932896,247443872.71605596,197115035.06914777,164041948.85045314,150577106.79188126,128643841.77242833,108086024.60814032,85918328.53719553,76396005.26786168,66877897.0250967,67133371.63364252,71786661.02767682,75924236.67206188,88000887.18052743,86464058.25491393,90630694.64114128,84621491.23268074,88765477.21841632,109218171.9370834,158265573.93657416,182533107.50214255,148445585.5842981,123299461.27412583,85092634.42552546,96931450.53786714,104309452.46234445,102027933.8859412,128202951.95063296,131264187.82323834,107302278.45268913,68975298.48140769,43544984.65652955,29358388.163099412,20895990.366020117,20879478.964379527,22224374.838860765,27038858.300478872,31065266.432832085,23362627.26321298,21057103.14262259,20550617.371708475,29548368.96822505,41714199.6872178,41628873.005918056,46157380.48834306,44943015.10658739,45208439.66223425,33632028.790162034,24359717.80047929,20112403.916632965,25059923.663921446,46773769.17375017,59961215.84591991,68002100.03327793,67651340.15767746,61847257.962949544,78948719.50205602,111590204.90195638,111201533.85002173,91217962.58076234,73844398.96745358,68506892.29926725,73018916.37481752,75854240.10365696,86122786.235725,97942466.78827606,81209044.47471431,68527004.18263836,61774615.40188872,59891477.68899351,57362973.75807352,52316058.57982904,48112893.67485405,44509110.407124065,49660776.66621217,52668263.35844496,59598775.82998361,68978537.32292956,81859478.4596403,94401699.96694268,95939194.42978972,98430872.53055263,88102592.03675544,68847383.66802429,48368570.75238155,30046832.085494764,22895438.68041131,23626081.02744457,27224256.77449163,30822432.52153885,30844209.663827933,32058098.93596237,34404970.06603,32254838.066986285,30104706.067942664,27954574.068898946,25804442.06985532,23654310.070811603,18790732.829033285,13927155.587254753,10218103.970102776,7663577.977577024,5109051.985051388,2554525.9925257503";
        var x="9.96,10,10.04,10.08,10.12,10.16,10.2,10.24,10.28,10.32,10.36,10.4,10.44,10.48,10.52,10.56,10.6,10.64,10.68,10.72,10.76,10.8,10.84,10.88,10.92,10.96,11,11.04,11.08,11.12,11.16,11.2,11.24,11.28,11.32,11.36,11.4,11.44,11.48,11.52,11.56,11.6,11.64,11.68,11.72,11.76,11.8,11.84,11.88,11.92,11.96,12,12.04,12.08,12.12,12.16,12.2,12.24,12.28,12.32,12.36,12.4,12.44,12.48,12.52,12.56,12.6,12.64,12.68,12.72,12.76,12.8,12.84,12.88,12.92,12.96,13,13.04,13.08,13.12,13.16,13.2,13.24,13.28,13.32,13.36,13.4,13.44,13.48,13.52,13.56,13.6,13.64,13.68,13.72,13.76,13.8,13.84,13.88,13.92,13.96,14,14.04,14.08,14.12,14.16,14.2,14.24,14.28,14.32,14.36,14.4,14.44,14.48,14.52,14.56,14.6,14.64,14.68,14.72,14.76,14.8,14.84,14.88,14.92,14.96,15,15.04"
       var yShowData=x.split(",")
       var chartData=y.split(",")
      var  yAxisData = yShowData.concat([]);
        var option = {
            title: {
                show: false
            },
            tooltip: {
                trigger: 'axis'
            },
            calculable: true,
            yAxis: [{
                show: false,
                type: 'value'
            }],
            textStyle: {
                fontWeight: 'bold',
                fontSize: 16
            },
            xAxis: [{
                axisLabel : {//坐标轴刻度标签的相关设置。
                    interval:30,
                   
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                offset: -10,
                type: 'category',
                data: yShowData,
                position: 'right'
            }],
            series: [{
                name: '',
                type: 'bar',
                barWidth: 1,
                data: chartData,
                itemStyle: {
                    normal: {
                        color: function(params) { //根据价格和收盘价比较设置柱状图颜色
                            if (yAxisData[params.dataIndex] == 13.16) {
                                return 'rgb(255,162,24)'
                            } else if (yAxisData[params.dataIndex] < 13) {
                                return 'rgb(239,44,41)'
                            } else if (yAxisData[params.dataIndex] > 13) {
                                return 'rgb(66,142,239)'
                            }
                        }
                    }
                }
            }]
        }
       var  option2 = {
            xAxis: {
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            },
            yAxis: {
                type: 'value'
            },
            series: [{
                data: [120, 200, 150, 80, 70, 110, 130],
                type: 'bar'
            }]
        };

        return (
            <div className={styles.chartCon}>
                <div id="test"></div>
                <Bar data={option}></Bar>
            </div>
        )
    }
}